https://indieweb.org/ActivityPub

{{stub}}

'''<dfn>[https://www.w3.org/TR/activitypub/ ActivityPub]</dfn>''' is a decentralized social networking protocol ([[W3C]] Recommendation) briefly known as <dfn>ActivityPump</dfn>, based on [[pump.io]] and [[ActivityStreams]]. Conceptually they were all preceded by [[OStatus]].

[[File:w3c-spec-REC.svg]]
__TOC__
== Bridging ==

{{main|bridge#ActivityPub}}

=== ActivityPub Notifications to Webmention ===

Since Mastodon and other ActivityPub implementations often include Microformats on their permalinks, a shortcut for receiving comments from ActivityPub servers is to treat them as webmentions instead of doing the full Inbox processing normally required by ActivityPub.

When your ActivityPub inbox receives a notification:

* If <code>type</code> is <code>Create</code>
** and if <code>object.InReplyTo</code> is present and is a URL on your domain
*** then save <code>object.id</code> as "source"
*** save <code>object.InReplyTo</code> as "target"
*** send a webmention to your webmention endpoint with the source and target

Then your site's existing webmention handling will fetch and verify the ActivityPub source URL, and if there are Microformats on the page, will even look like a reply.

Example:
* Post permalink: https://aaronparecki.com/2018/07/01/9/
* Mastodon reply URL: https://mastodon.social/@aaronpk/100302258872089825


== See Also ==
* [https://blog.joinmastodon.org/2018/06/how-to-implement-a-basic-activitypub-server/ How to Implement a Basic ActivityPub Server]
* https://github.com/go-fed/presentations/tree/master/2018/go-activitypub-journey
* https://blog.joinmastodon.org/2018/07/how-to-make-friends-and-verify-requests/
* 2018-08-07 Criticism by author of [[litepub]] draft specification, thread provides background frustration and motivations: https://pleroma.site/notice/2962026
** "activitypub is a crummy protocol, largely designed by committee, largely intended to make W3C brass happy by cargoculting even more of their crummy technology into it.<br><br>we need to fork this shit today and purge W3C from activitypub.  it's the only conclusion i keep coming to after trying to read their specs." [https://pleroma.site/users/kaniini @kaniini] August 7, 2018
