https://indieweb.org/notification

{{stub}}
{{emojicon|🔔}}
'''<dfn>notifications</dfn>''' in the context of the IndieWeb refer to all forms and ways that an independent web site can receive a message indicating something of interest (server notifications), and display those messages (preferably in realtime) either in a list on a page, or [[push notification|pushed]] to one or more devices used by the owner of that site (client notifications).

For <span id="Server_Notifications">server notifications</span>, we use [[webmention]] and [[PuSH]].

== Why ==
There are numerous <span id="Use_Cases">use cases</span> for notifications, this is meant to capture a few that are currently real world and pervasive.

=== Individual ===
__TOC__
* text messages from contacts - your site receives [[indie-messaging]] from another site
* calendar reminders - your site noticing your upcoming [[event]]s and [[RSVP]]s and sending you an event reminder with details inline and URL for more info / comment / option to change RSVP.
* alarms
* social web notifications - every kind of [[webmention]] you could receive
** [[follow]] - someone has started [[follow]]ing your [[homepage]] and sent a [[webmention]] accordingly
** [[like]] - someone liked or [[favorite]]d one of your [[posts]] or homepage
** [[comment]] - someone commented on one of your posts
** [[repost]] - someone reposted one of your posts
** [[mention]] - someone wrote a post that mentioned you (via linking to your homepage, perhaps even marked it up as an h-card)
** follow-up comment - someone commented on something you commented on, or liked.
** [[person-tag]] - someone person-tagged you in a [[post]], especially a [[photo]]

=== Public-like ===
* Amber Alert text messages
* Weather alerts per http://www.nws.noaa.gov/com/weatherreadynation/wea.html
* Sports scores (realtime, e.g. World Cup goals)

== Why not ==
<span id="Beware_of">Beware of</span> real world problems occurring in notification systems elsewhere:
=== Too Many Notifications ===
Receiving too many notifications makes them not want to use a client:

* E.g.: 2014-10-03 https://twitter.com/freebsdgirl/status/518146125036290048 <blockquote>Once again, not checking notifications. Using web, not client. Too many notifications. Will check later.</blockquote>

AKA alarm fatigue:
* http://en.wikipedia.org/wiki/Alarm_fatigue
* http://www.npr.org/blogs/health/2014/01/24/265702152/silencing-many-hospital-alarms-leads-to-better-health-care

=== Anxiety And Fear ===
[[mobile]] notifications can cause anxiety and fear:
* 2011-08-26 <cite>[http://thedailyadventuresofhannah.blogspot.co.uk/2011/08/blackberry-red-light-of-doom.html Blackberry Red Light of Doom]</cite> <blockquote>Basically, whenever I see the red light flash on my Blackberry, I do '''panic''' a little bit inside and I dont know why! I get this '''strange gut feeling'''. It's not like my phone has turned evil and is trying to take over the world, it is simply telling me that I have a [[text]], [[email]], BBM, [[facebook]] notification....(could be anything really, Blackberries really can do everything)</blockquote> '''Emphasis''' and Wikilinks added.

=== Distraction ===
When attempting to focus one's attention on specific projects or goals, being deluged with unrelated notifications can be very distracting. Every notification system needs facilities to get specific notifications to be quiet, temporarily or permanently. The lack of said modes may reflect a software vendor's desire for you to engage more with their service rather than respecting your time and resources.

== IndieWeb Examples ==
=== Ben Roberts ===
{{benthatmustbeme}} has a notifications page at https://ben.thatmustbe.me/activity since 2015-05-07 that shows a summary of all notifications he receives, both to specific posts, and his homepage.

=== gRegor Morrill ===
{{gRegor}} has a notifications page (currently calling it a "responses" page) at http://gregorlove.com/responses/ since 2016-05.
* Primarily for me to have a quick look at recently-received webmentions + [[local comments]].
* Includes homepage webmentions, though no additional processing is done on them, e.g. [[person-tag]].
* If logged in as an admin, includes webmentions that have not been processed yet and those marked as private, e.g. unapproved local comments
* Currently shows latest 20; may add pagination to go back further.

=== sknebel ===
{{sknebel}} has a private IRC server where a bot (based on [[TikTokBot]] [[https://www.svenknebel.de/posts/2017/8/4/ reports new webmentions]].

=== Aaron Parecki ===
{{aaronpk}} has a private IRC server where notifications of new webmentions are reported.

[[File:aaronpk-private-irc-notifications.png]]

=== Jeremy Cherfas ===

{{ jeremycherfas }} uses an [https://ifttt.com/applets/59690313d-if-new-feed-item-from-https-granary-demo-appspot-com-url-input-html-output-atom-url-https-3a-2f-2fwebmention-herokuapp-com-2fapi-2fmention IFTTT applet] to monitor the output of [https://webmention.herokuapp.com/ webmention.herokuapp.com] via [https://granary.io/ Granary] to send himself an email whenever his site receives a webmention.

== Past Examples ==
=== Aaron Parecki ===
On {{aaronpk}}'s previous website, there was a /mentions page that listed received webmentions in reverse chronological order. The page is archived at http://2015.aaronparecki.com/mentions

[[File:aaronpk-2015-mentions.png|400px]]

== Design Options == 

For the plaintext representation, displaying the author name is not particularly useful, since people often put random junk into the "name" field. A compromise would be to show the author as "Author Name (url)" in plaintext form.

=== Like or Repost ===

* article: {author} liked "{Article name}" {target url}
* note: {author} liked "{Target post text truncated...}" {target url}
* photo with caption: {author} liked your photo "{Target post text truncated...}" {target url}
* photo no caption: {author} liked your photo {target url}
* {author}, {author}, and 4 others liked (your photo/video) "{Target post text truncated...}" {target url}
* {author} liked a post that linked to "{article name}" {target url}


=== RSVP ===

* {author} RSVPd yes to {target event name} {target url}
* {author} and {author} RSVPd no to {target event name} {target url}
* {author}, {author} and 4 others RSVPd yes to {target event name} {target url}


=== Invite ===

* {invitee} was invited to {target event name} {target url}
* {invitee} and {invitee} were invited to {target event name} {target url}
* {invitee}, {invitee} and 4 others were invited to {target event name} {target url}

=== Generic Mention ===

* {author} linked to {target url}: "Source post text truncated..." {source url}
* {author} and {author} linked to {target url}
* {author} posted "Source post text truncated..." {source url} that linked to {target url}, {target url} and {target url}

=== Reply ===

(not clustered)

* {author} commented on {target url}: "Source post text truncated..." {source url}

=== Clustering ===

In environments with lots of notifications or notification bursts, you may want to cluster notifications together. Here's a description of that feature and the algorithm that [[webmention.io]] uses: [https://snarfed.org/clustering-notifications Clustering notifications].

== Push Notifications ==
{{main|push notification}}

"Push notifications", also known as "<span id="Client_Notifications">client notifications</span>", are notifications that show up on one or more of your client devices without you having to explicitly request them (hence "push").

=== How to ===
No replicable indieweb solutions to Push Notifications yet. See the main [[push notification]] page for projects and brainstorming.

=== IndieWeb Push Notification Examples ===
* {{aaronpk}}'s site aaronparecki.com receives [[webmentions]] and then sends them to his own IRC channel, which then sends a push notification to his phone when his IRC status is "AFK" status. The notification sends just the two URLs (source, target), and the type of webmention, e.g. [[reply]], [[like]], etc. [[mention-app]] (see Projects below) is his eventual goal.
* {{martymcguire}}'s site martymcgui.re receives [[webmentions]] at [[webmention.io]], which is configured to send a notification to a [[webhook]] running on his site. That hook uses [[Pushbullet]] to send a push notification to his phone and other devices.

== Platform Examples ==
Examples of notification user interface presentation from [[platforms]] (e.g. operating systems)

=== iOS 7 ===
This iOS 7 "recent items" notifications example shows 2-3 different kinds of notifications from two apps, a [[favorite]], several [[likes]], and a [[reply]].
<span style="float:right">[[File:2014-361-ios-recent-notifications.jpg|320px]]</span>

=== Twitter iOS app ===
<img src="https://twitter.com/twitter/profile_image" style="max-height:1.5em"/> [[Twitter]] iOS App:
<blockquote style="width:20em">'''Twitter''' 58m ago<br/>@fraying favorited:<br/>text first design is a form of <br/>universal design: listenable, more <br/>accessible. also a path to progre...</blockquote>
=== Instagram iOS app ===
<img src="https://twitter.com/instagram/profile_image" style="max-height:1.5em"/> [[Instagram]] iOS App:
<blockquote style="width:20em">'''Instagram''' 8m ago <br/>cristyle__ liked your photo.<br/><br/><hr/><br/>...<br/><br/><hr/><br/>lucianteo said: "You're burping <br/>hashtags."<br/><br/><hr/></blockquote>

<br style="clear:both"/>
----

=== Android ===
[[ File:Twitter_Android_notification.png|300px]]


Note clustering is limited to grouping and showing a count, actual text of notifications is not intelligently collapsed at all, e.g. notification text repeats the account that "Favourited":

[http://known.kevinmarks.com/2015/twitter-is-worse-at-notification-collapsing-than-aaronpk https://d167tapqdyj68f.cloudfront.net/known.kevinmarks.com/8/9/5/3/895343de1edfff8ebf94127fef38de20.file?ext=.png]

=== Analysis of design differences ===
Note the differences:
* "@username" vs. "username"
* "[[favorited]]:" vs. "[[liked]]" (no colon) vs. "said:"
* (linebreak) (unquoted 99 chars of tweet ...) vs. "your photo." vs. (inline quoted reply)

Some presentations of some notifications like these "recent items" begin to look like "[[cards]]".

== Silo Examples ==
These are examples from various [[silo]]s's websites:

=== Google+ ===
All of a [[Google+]] users own notifications are available from [https://plus.google.com/notifications/all] and can be sorted by "Your posts" or "Other people's posts".  This stream is time sensitive and after all have been read for enough time your notifications box appears empty 

(screenshot needed)

=== Facebook ===
As of 2018, Facebook shows a bell (🔔) icon in their header for notifications, instead of a globe that is rotated to your current location (🌎🌍🌏), on both web and mobile web versions of their site.

(screenshot needed)

Your most recent seven days of [[Facebook]] notifications are available once logged in from:
* https://www.facebook.com/notifications (shorter: fb.com/notifications )
Some of these entries have no permalink and only link to referenced post.  The also appear to be time sensitive and cannot be recovered after a certain amount of time. If you receive Facebook notifications via email you may be able to search your email archives for older notifications.

[[File:facebooknotifications.jpg|800px]]

This screenshot shows Facebook's current notifications UI after browsing to the "Show All Notifications Page" and expanding the notifications menu bar.   Clicking on any notification brings up the post that is being discussed, but there is no known way to get to a post with this exact content"

: "<User> added a new photo" will link directly to a the photo
: "<User> updated her status" will link to the actual status update

Also on the far right are activity from friends on facebook which has some of the same properties though seems to have more post content included in them.

==== Facebook feed files ====
Facebook notifications are also available as feed files!
* RSS: Right-click the blue "RSS" text on top left of fb.com/notifications page (e.g. see above screenshot, the line where it says "Get notifications via:") for the URL. It will look something like:
** <kbd><nowiki>https://www.facebook.com/feeds/notifications.php?id=214611&viewer=214611&key=AlphaNumericKey001&format=rss20</nowiki></kbd> where AlphaNumericKey001 is some key specific to you, security through obscurity as it were.
* JSON: change the "format=rss20" to "format=json" in the RSS URL and you'll get a JSON feed file instead with roughly [[Atom]] semantics.

=== Instagram ===
As of 2017 (or earlier), [[Instagram]] uses a heart (empty by default, filled when chosen) in its bottom bar for "notifications" (since most of their notifications are [[likes]] which they display as hearts). When notifications are available, they show a heart with a dot underneath.
* ♡
* <span style="color:black">♥️</span>
* <span style="font-size:2em">❣️</span>

(screenshots needed)

Previously, [[Instagram]]'s native apps (iOS, Android) UI (when logged in) has a heart inside a talk bubble icon button at the bottom, which when clicked, presents recent notifications/activity (likes, comments, following, person-taggings) of you and your posts (photos, videos). The "YOU" tab is highlighted in blue by default:

(need screenshot of "YOU" notifications/activity)

If you then tap the "FOLLOWING" tab at the top, it becomes highlighted in blue and shows similar notifications/activity by and for those you follow (for the most part that is, it doesn't show you when people follow the people you are following). 

[[File:2015-023-instagram-like-clustering.jpg]]

=== LinkedIn ===
All notifications are available for a limited amount of time and contain different content than posts
* '''URL and screenshot needed!'''

=== Twitter ===
[[Twitter]] (as of 2017 at least) uses a bell (🔔) icon in the logged in header to link to your notifications page. When you have notifications, a number is shown in a circle on the top right of the bell.

(screenshots needed)

[[Twitter]] shows notifications for the logged in user at:
* https://twitter.com/i/notifications
* https://twitter.com/i/notifications?filter=following - particularly useful
Including the following types of [[responses]]:
* [[mentions]] of your username
* [[favorite]]s of your tweets, e.g.
** "Christophe Ducamp and IndieWebCamp favorited your Tweet "
* [[favorite]]s of tweets you're mentioned in, e.g.
** "Kevin Marks favorited a Tweet you were mentioned in "
* [[repost]]s of your tweets, e.g.
** "IndieWebCamp and dietrich ayala retweeted you "
* [[repost]]s of tweets you're mentioned in, e.g.
** "Kevin Marks retweeted a Tweet you were mentioned in "

As illustrated in this screenshot (from {{t}} logged in as @t)

[[File:2015-08-13-Twitter-notifications.png]]

See also: [[mentions#Twitter|mentions silo examples: Twitter]].

=== GitHub ===

GitHub shows a blue dot above the notifications icon (a bell) to indicate there are unread notifications.

Notices are divided by project. Each entry shows the title of the issue/PR and an icon indicating what type of action it is (new issue, comment, pull request, PR merged, issue closed). Note/Criticism: there is very rarely enough context on this page to triage notifications &mdash; you almost always have to click through to the issue itself to see what it's referring to.

[[File:2016-02-10-GitHub-notifications.png|800px]]

== Articles ==
* https://medium.com/@intercom/designing-smart-notifications-36336b9c58fb

== Brainstorming ==
=== Notification Protocol ===
There is evidence of demand from [[IndieAuth]] consumers (clients) e.g. that [https://github.com/go-gitea/gitea/issues/3837 Gitea OAuth Github thread], that they want a way to notify such SSO users.

Ideally this would be a formally specified Notification Protocol that could be used by any service to notify users of that service, via the URL they used to identify themselves.

The key building blocks here are:
# the service has a page where it lists notifications for you (see examples above for real world examples of such pages)
# each such notification is itself an [[h-entry]] and has its own permalink
# thus when it is generated, it sends a [[Webmention]] to your identity, in essence, it sends a '''[[person mention]]'''

That process in total (publishing a notification for you at a permalink, then sending a person mention) is a simple Notification Protocol building block that can be implemented by an [[IndieAuth]] consuming service to notify you of anything to do with the service! (thereby eliminating any need to ask you for your email address)

In order to provide some amount of privacy, these notification permalinks could be obscured "capability URLs", public, but unlinked from elsewhere (except your logged-in private notifications page listing them all).

For further privacy enhancement, use a '''[[private-webmention]]''' to send the notification.


== See Also ==
* [[webmentions]]
* [[growl]]
* [https://mastodon.art/@Algot/101766693603222125 Motivation] by [http://runeman.org/ Algot Runeman]
* http://www.bbc.co.uk/bbcthree/item/0a0cb73c-a87a-4c23-8b1d-f145ab76e58b
* 2017-10-07 {{adactio}}: [https://adactio.com/journal/12936 Notifications]
* https://en.wikipedia.org/wiki/Special:Notifications
* 2018-02-27 New York Times: [https://www.nytimes.com/2018/02/27/magazine/red-dots-badge-phones-notification.html How Tiny Red Dots Took Over Your Life]
* [[GitHub notifications]]
* https://twitter.com/iamdevloper/status/1090589206013976576
** "Browsing the web in 2019...<br><br>@bruised_blood" [https://teespring.com/en-GB/stores/iamdevloper @iamdevloper] January 30, 2019
* <img src="https://pbs.twimg.com/media/DyKNGQSWkAUJQn4.jpg" style="max-width:100%" />
* antipattern https://media.aaronpk.com/2019/05/file-20190516015153-7046.jpg
* 2019-06-26 WIRED: [https://www.wired.com/story/history-of-notifications/ A Brief History of Smartphone Notifications] <blockquote>…in the 1990s and early 2000s, notifications like pulsing BlackBerry LEDs and “You’ve got mail!” were shoved into the forefront of our collective consciousness. Eventually, those became the icons, banners, and badges that litter our smartphones </blockquote>
* <blockquote>Rosen’s research has consistently shown that notifications stress us out—and that constant notifications, beeps, buzzes, and vibrations from our smartphones and computers all contribute to ongoing chemical stress.</blockquote>
* https://trentwalton.com/articles/2017/04/10/the-notification-machine.html
* Commentary on Hacker News and it’s decision not to support real time notifications: [https://news.ycombinator.com/item?id=30373171 Ask HN: Why doesn't HN alert users in some manner to new replies?]
* https://twitter.com/sarunw/status/1548173550980579328
** "Slack notifications feel like. https://t.co/DSqVFZDYtH" [https://sarunw.com @sarunw] July 16, 2022
* Silo example: https://twitter.com/mengxilu/status/1550519453598642176
** "Found this gem of "How Slack Decides to Send a Notification" flowchart. <br><br>This is a perfect example of "how hard could that be..."" [http://kanmon.com @mengxilu] July 22, 2022
* ^ https://pbs.twimg.com/media/FYSM5KQUcAAzdmY.jpg
