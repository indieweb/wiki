https://indieweb.org/migration

{{stub}}

'''<dfn>migration</dfn>''' in the context of the indieweb refers to the process of moving your indieweb site from any one or more of one [[CMS]] / [[web host]] / [[DNS provider]] / [[URL design]] / [[domain name]] to another.

== How to ==
=== How to migrate webhost ===
# '''Reduce TTLs to minimum.''' If you’re even considering migrating your site(s) from one [[webhost]] to another, the very first thing to do is 
#* Make a list of the domains you’re considering moving
#* Login to your [[domain name provider]] and reduce the [[TTL]] to the lowest value allowed 
#** See: [[TTL#How_to_configure]] for more details on reducing TTL.
# '''Confirm an email independent of domains being migrated'''. Make sure you have an email address that is independent of any domains you are migrating, so you can use that as your contact info while migrating.
# '''Pick a new [[webhost]]''' and create an account with them (using that email address).
# ... 
# ...

== Organization Examples ==
=== DreamHost Community ===
[[DreamHost]] moved their community discussion platform from [[MyBB]] to [[Discourse]], and migrated their previous user accounts and forum content as well. They migrated some URLs from the old platform to the new platform, but apparently did not migrate the section under "old forums". 

* archive.org snapshot of old forum: http://web.archive.org/web/20150906074546/https://discussion.dreamhost.com/forum-5.html
** redirected to https://discussion.dreamhost.com/c/customer-discussion
* archive.org snapshot of a thread: https://discussion.dreamhost.com/thread-146508.html
** redirected to https://discussion.dreamhost.com/t/installing-a-web-app/62865

[[File:2017-dreamhost-forum-migration.png]]

<blockquote>Welcome! (or welcome back?) You may have noticed that things look a little different around here! DreamHost has recently migrated our forums to a new software platform.<br><br>

If you had an account on the old system we’ve copied that over for you, however you will need to reset your password before you’re able to login. You’ll only need to do this once! Click on the "Log In" button above and the link to "I forgot my password".</blockquote>

== Brainstorming ==
Ideally people will create their IndieWeb sites and their data will live at the same URL forever and ever into eternity.

In reality, sometimes people do change domain names (e.g. because of problems with previously trendy [[short-domains]] like .io or .ly) as well as publishing platforms from time to time. We should do our best best we can do is have a plan to handle this gracefully.

=== Domain Changes ===

The first case is where the source site notifies the target site that it has moved from:

<pre>old-source.com/note/213</pre>

to it's new home at:

<pre>new-source.com/note213</pre>

seems like there could be 2 approaches to this... sites crawl their own comments detecting the health of domains, or sites send notifications to others sites to "update me"

==== IndieAuth ====
Many apps will use the IndieAuth URL as a unique identifier for your account. If you change your domain, this will appear as a new user to these apps. We need some way to tell the app that the user has changed their URL, and to be able to prove the user still controls both, so that the app can update the unique identifier.

=== URL Structure Changes ===

The next case is where a user adopts a new publishing platform that has drastically different URL structure such as

<pre>same-source.com/note/345</pre>

move to new URL structure

<pre>same-source.com/note/2014/03/f5e82</pre>


=== SSL Change ===

The next case is where a user adds an SSL certificate to their domain. This can now be seen as a different URL.

<pre>http://domain.com/</pre>

is now

<pre>https://domain.com/</pre>

== Solutions ==

It seems that the right solution should be able to handle both migration cases. Some rough ideas outlined thus far inlcude:

* Using 301 Redirects
* Onus on the source to notify targets to recrawl / verify their posts
* Targets can run a refresh on their own content to update / verify

== See Also ==
* [[web hosting]]
* [[DNS providers]]
* [[CMS]]
* [[URL design]]
* [[permalinks]]
* http://www.kiaikim.com/2017/how-to-move-a-wordpress-site-from-one-webhost-to
* [[data-portability]]
* [[account migration]]
