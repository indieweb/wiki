https://indieweb.org/Koype

'''<dfn><a href="https://git.jacky.wtf/indieweb/koype-next">Koype</a></dfn>''' is an open-source [[project]] that serves as an optimized headless [[Micropub]] server. It aims to take in requests and store them to disk for later use by another tool that can render them.

== Features ==
* Aiming to be fully compliant with the [https://micropub.rocks Micropub test suite]
* Asynchronous [[Webmention]] sending
* Implementing [[Micropub-extensions|extensions]]
** [[Micropub-extensions#Slug|slug]]
** [[Micropub-brainstorming#syndication|syndication]]
*** [[Webmention]]-based
*** [[Micropub]]-based, [[syndication-brainstorming#Syndicate_by_Reference|by reference (planned)]]
** [[Micropub-extensions#Visibility|visibility]]
** [[Micropub-extensions#Destination|destination]]
* Flat file system with [[SQLite]] for indexing of data

=== Address Book ===
Koype builds a [[nickname cache]] that's usable for quickly mentioning people in the system. It's available with authentication using the Micropub query <code>?q=contact</code>.

This is being tracked at https://git.jacky.wtf/indieweb/koype-next/issues/17

=== Asynchronous [[reply context]] hydration ===
When a URL is encountered when creating a new post, Koype runs it through its set of URL transformers. Depending on the authority of a URL (here being the host name and port of a URL), Koype will attempt to fetch a normalized (formatted in MF2+JSON) representation of the URL. This is built to work with [[XRay]] and can work with any other tool that returns MF2+JSON either as the root object, under a specified key or returns an HTML page formatted with MF2 with an item that has a property named <code>url</code> that contains the URL to be parsed.

In the event that no MF2 can be resolved from the remote URL, OGP, Twitter Card and the HTML is parsed to a minimum viable constraint to permit it as a [[microformats|Microformat item]] usable as a reply context. The resulting parser approach is hinted in the <code>type</code> of the resulting object.

=== Planned ===
* Implementing [[Micropub-extensions|extensions]]
** [[Micropub-extensions#Audience|audience]]
** [[Micropub-extensions#Contacts|contacts]] - see more at [[#Address_Book]]
** [https://github.com/indieweb/micropub-extensions/issues/33|supported properties per-post-type] - tracked at https://git.jacky.wtf/indieweb/koype-next/issues/12
** [https://github.com/indieweb/micropub-extensions/issues/4|filtering by property names and their values] - tracked at https://git.jacky.wtf/indieweb/koype-next/issues/11
* expiring content - tracked at https://git.jacky.wtf/indieweb/koype-next/issues/14
* [[multi-site_indieweb]] support
* distributed storage support (tracked at https://git.jacky.wtf/indieweb/common/issues/1)
* async post creation (tracked at https://git.jacky.wtf/indieweb/koype-next/issues/18)
* shadow destination creation (tracked at https://git.jacky.wtf/indieweb/koype-next/issues/28)

== File System ==
Koype works on a ''virtual filesystem''. The long-term goal is to allow for it to write to object storage, come preloaded with a sample filesystem for demonstration purposes and simplifying backups.

TODO: Explain where the resources are stored on disk.
TODO: Explain how information is stored.

[[Category:Software]]

= See Also =
* [[Koype Hub]]
* [[Koype/Publish]]
* [https://indieweb.org/wiki/index.php?title=Koype&oldid=71256 The older form of Koype, as a monolithic app]
