https://indieweb.org/IRC

{{emojicon|üí¨}}
: This page is about the IRC protocol. For details on the IndieWeb IRC channels on Freenode, see '''[[discuss]]'''.

== What is IRC ==
'''<dfn>Internet Relay Chat</dfn>''' (abbreviated <dfn><abbr>IRC</abbr></dfn>), in particular the #indieweb channel on the irc.freenode.net server, is the primary community discussion forum for IndieWebCamp and anything about the IndieWeb.

== People on IRC ==
{{main|chat-names}}

See our list of [[discuss|chat]] regulars sorted by nickname, with their website and usual timezone(s).

The channel has regular administrators, who are also wiki administrators. If you want to get their attention, just say "adminhelp".

__TOC__

== Logs ==
* [https://chat.indieweb.org/today Today's Logs]

If the logs have stopped logging or have any other problems, notify {{aaronpk}} on the IRC channel.

=== Logs on Your iPhone Home Screen ===
To add the IRC logs to your iPhone home screen, visit the page below on your phone:

https://chat.indieweb.org/today?bookmark

Follow the link on that page. Then, from Safari, add that page to your home screen.

<span style="float:right;clear:right;max-width:25%">[http://www.kevinmarks.com/joyofsparks.html <img style="max-width:100%" src="http://www.kevinmarks.com/joygraph.svg" alt="Joy Division album cover style chart of 90 days of IRC activity"/>]</span>

=== IRC Log Atom Feed ===
(Currently unavailable)

An experimental atom feed is available for the IRC logs.  This feed delivers the last full day's log to your feed reader.  

Please report any feed issues to https://github.com/bcomnes/iwc-log-feed/issues

=== Suggestions ===
We have the most awesome IRC logs on the web. That doesn't mean they can't be even more awesome. Got an idea, suggestion, or issue to report about the logs? Create or comment on a GitHub issue:
* https://github.com/indieweb/chat.indieweb.org/issues

=== Spam ===
Occasionally, Freenode gets hit with a wave of IRC spam. Typically the pattern is an account joins many channels across Freenode and sends repeated similar messages to as many channels as it can, often mentioning other peoples' nicknames in order to get their attention. 

* Anyone registered on [[chat-names]] can kick users by telling Loqi to kick them using <code>!kick spammer</code>
* Any channel op in our channels can also <code>/kick spammer</code> to remove them from the specific channel immediately
* Other Freenode admins often catch the bots and block them from the server

==== Red Alert Mode ====
In very large spam waves, such as the one starting on 2018-07-31, we can employ additional tricks to prevent the spam from hitting the channels at all.

* Set everyone currently in the channel to +v (<code>/voice nickname</code>)
* Set the channel modes to +zm (<code>/mode #indieweb-dev +zm</code>)
** +m means only people with +v mode can speak in the channel
** +z allows channel ops to still see the messages from unvoiced users, so Loqi can still see messages from new people and spammers
* When someone joins a channel, Loqi sets a timer for 30 seconds. If they are still in the channel after 30 seconds, they are automatically given +v
* When an unvoiced user says something, if it matches a spam keyword phrase, they are immediately kicked.
** If it does not match a spam phrase, then Loqi says "Welcome, {nickname}. Since you weren't yet recognized as a real person, your message wasn't sent to the channel. I'm repeating it below for you.", repeats their message to the channel, and sets +v
** If the spam does not consistently match a pattern, this last rule can be dropped

To stand down from red alert, set the channel modes back to <code>-zm</code>, and disable Loqi's auto-voicing hooks.

* <code>/mode #indieweb-dev -zm</code>

==== Spam in Chat Logs ====

The IndieWeb chat logs are all stored as files in a GitHub repo, which is where the web interface pulls from. Individual lines in the file can be marked as deleted to avoid them being shown in the web interface. This should only be used to block actual spam, not remove legitimate text from users, even if it is something you don't agree with.

To help remove spam from the logs, you can send a pull request to the [https://github.com/indieweb/indieweb-chat-archive chat archive] repo to mark specific lines as deleted. Find the specific file containing the messages, and then find the specific chat line to mark as deleted. Each line in the file corresponds to a single IRC message, and begins with a timestamp, followed by a JSON string with the log info. To mark as deleted, add <code>"deleted":true</code> as the first property in the JSON text. 

For example, change:

<pre>2018-01-01 01:05:10.931300 {"type":"message", ... </pre>

to:

<pre>2018-01-01 01:05:10.931300 {"deleted":true,"type":"message", ... </pre>

Send a pull request containing all your edits together, like [https://github.com/indieweb/indieweb-chat-archive/pull/2 this one]. Anyone with write access to the repo can merge the change, and {{aaronpk}} will then deploy it to the server. This will prevent the spam from being shown in the web logs.

==== How-to remove spam ====

This is how {{martijnvdven}} has been removing spam from the chat.indieweb.org logs:

# Find the log file with spam in it on [[GitHub]].
## Go to [https://github.com/indieweb/indieweb-chat-archive/tree/master/freenode the GitHub archive].
## Choose the folder of the matching channel.
## Follow a folder structure down to the specific day‚Äôs log file. Note that days are in UTC.
# Use GitHub‚Äôs editor by clicking the pencil icon.<br>[[File:fork-and-edit.png]]
# Copy the entire file to a plain text editor with [[regular expression]] find and replace support. (E.g. [[BBEdit]].)
# Run a find and replace that marks all lines from a specified user as <code>deleted</code>.<br>[[File:bbedit-find-and-replace-spam.png|500px]]
#* Match the pattern: <code>(^[0-9:. -]+ {)(.+?,"author":{"uid":"spammername")</code>. Replace <code>spammername</code> with the actual name of the spammer.
#* Replace it with: <code>\1"deleted":true,\2</code>.
# Copy it all back into GitHub‚Äôs editor, making sure it ends with exactly 1 empty line.
# Give it a clear title in the ‚ÄúPropose file change‚Äù section identifying what spam you have removed.
# Press the (green) ‚ÄúPropose file change‚Äù button.
# Check the diff to double check you haven‚Äôt made any destructive changes.
# Press the (green) ‚ÄúCreate pull request‚Äù button.
# The [[pull request]] should be auto-filled with the title from step 6. If the title was clear enough you do not need to write anything more, otherwise comment on why/what you changed in the logs.

'''Please also send an email to remove the spam from freenode.logbot.info''' logs per https://freenode.logbot.info/#how-to-scrub:
<blockquote>[mailto:byron@glob.com.au Send me an email] or message me on IRC ("glob" on irc.mozilla.org) if there's data that you feel should be scrubbed (eg. spam, accidental leakage of passwords, etc).</blockquote>

== Install an IRC app ==
You can use an IRC application for more convenience. See the section [[#Clients|Clients]] for clients commonly used in the community which you can download and install.

Setup your client to connect with the following:
* Channels: <code>[irc://irc.freenode.net/indieweb #indieweb]</code>, <code>[irc://irc.freenode.net/indieweb-dev #indieweb-dev]</code>
* Server: <code>irc.freenode.net</code>
* Port: <code>6667</code> (usually default)

IRC applications are convenient for automatically reconnecting you to the discussion channel, with your chosen nickname, and offer more configuration and alerting options than the web interface.

== Freenode Services ==
The #indieweb IRC channel is hosted on the freenode.net server.  See [[#Joining_a_server_and_channel|Joining a server and channel]] for info about configuring additional services (authenticated nicknames, etc.).

Use a browser to quickly join the live discussion chat using the freenode webchat:
* '''[http://webchat.freenode.net/?channels=indieweb&nick=indie-visitor webchat #indieweb discussion]'''

== Activity ==
Anecdotally the channel seems quite active:
* 08:00-10:00 Pacific Time (-0800/-0700)
** 16:00-18:00 UK Time (+0000/+0100)
** 17:00-19:00 EU Time (+0100/+0200)

==Bots on IRC==
The IRC channel uses these bots:

* [http://aaronparecki.com/Loqi Loqi] -  Contact: [[User:Aaronpk|aaronpk]], [[Loqi|wiki page]]
** logs all edits to this wiki
** logs the irc channel itself to archives on the web
** logs Twitter mentions of #indieweb or #indiewebcamp to the channel
** logs [[webmentions]] of wiki pages
* [[Kaja|Kaja]] - Contact: {{sknebel}}
** microformat parsing commands
** indieweb youtube channel announcements

want to write your own bots: see [[#bot development]]

== Getting started with IRC ==
'''Please note:''' These directions relate specifically to the services that [http://freenode.net/ Freenode] offers.  Other IRC servers may differ with the services they offer and how to operate them.  

===Joining a server and channel===
Most clients will offer you a connection dialogue showing the required fields for connection. The details to connect to the server are:

*Server: <code>irc.freenode.net</code>
*Port: <code>6667</code> (usually default)

You should also fill in any fields to set your alias, real name and email address.  If available, save these settings for later to speed up connecting in future.

More on setting a password protected alias can be [[#Creating_a_registered_nickname|read here]].

Once connected, you will most likely be presented with the "MOTD" (message of the day). For the first visit, it is advisable to read this to find out about the server's policies and other important pieces of news and help, otherwise it can be ignored and you can either [[#Creating_a_registered_nickname|authenticate your alias]] or join a channel.

Your client may display to you a listing of all available channels.  Locate <code>#indieweb</code> and select to join, or type <code>'''/join #indieweb'''</code> into the command line available to you in your client (where you've just been shown your connection).

Assuming you've connected correctly, you should now find youself in the #indieweb channel!

More detailed, but general, advice can be [http://web.archive.org/web/20160711194130/http://irchelp.org:80/irchelp/irctutorial.html read here]. Irc help currently has many missing pages; the link is to a copy in the Internet Archive.

===Creating a registered nickname===
Registration means that a password becomes associated with your alias/nickname/sign-in name and from the point of registration authorisation is required to communicate using that alias.

Registration of a nickname is required for some channels, and should be done to protect your identity.

To register with [http://freenode.net Freenode], you must communicate with their service known as NickServ.  The two basic command you will need to get started are:

For registration: <code>/msg nickserv register ''password'' ''email''</code>

For authentication (login): <code>/msg nickserv identify ''password''</code>

With <code>''password''</code> being a value of your choice and <code>''email''</code> being the email a verification command is send to. 

The command looks something like <code>/msg NickServ VERIFY REGISTER ''yournick'' mbarbwytaspq</code>. Enter this command to verify your email with the nickserv.

Your client may offer you an option to set your alias and password, so that you will not have to manually enter this information on each join.  Refer to your client's help files for more on this.

These commands can be typed directly into the server window upon join, or whilst in a channel, just as you would normally send a message.

More detailed user registration command information can be found in [https://freenode.net/kb/answer/registration Freenode's FAQ]

=== Requiring nickname authentication ===
You can set an option requiring authentication of your nickname within 30 seconds. If not authenticated in that time, the nickname will automatically be changed.

Once authenticated to [[Nickserv]],

<code>/msg NickServ SET ENFORCE ON</code>

===Communicating===
Sending a message to a channel may be as simple as joining the channel and typing into the window, just as you would with an Instant Messenger. You can refer to your client's help files for quicker/alternative methods of doing the following. For all clients the following commands are available (the parts in bold must be used, but are not seen by others):

'''Sending a message to the entire channel you are currently in:'''

Command: <kbd>'''/msg''' Hello world!</kbd>

Result: <samp><Bill> Hello world!</samp>

'''Sending an action/emotive/3rd person statement:'''

Command: <kbd>'''/me''' dances a code jig</kbd>

Result: <samp>Bill dances a code jig</samp>

'''Sending a message to one person only (private chat):'''

Command: <kbd>'''/msg Bob''' Hi, would you like to code jig?</kbd>

Result (for Bob only): <samp><Bill> Hi, would you like to code jig?</samp>

==Clients==
The following clients are recommended by #indieweb participants:

=== Android ===
* [http://www.yaaic.org/ Yaaic] -Open Source, retro look IRC client
* [https://play.google.com/store/apps/details?id=com.androirc AndroIRC] ‚Äî [[User:willnorris.com]] reports moderate success.

===Windows===
* [http://hexchat.org/ HexChat] ‚Äî Actively developed fork of X-chat.  Windows and Linux binaries available.
* [http://www.mirc.com/ mIRC] ‚Äî Popular Windows client. Trial version only.
* [http://www.adiirc.com/ AdiIRC] ‚Äî Simple C# based IRC client.
* [http://www.miranda-im.org/ Miranda] ‚Äî Lightweight, muti-protocol instant messenger.

=== Mac ===
* [https://www.adium.im Adium] ‚Äî open source, free, multi-protocol
* [http://colloquy.info Colloquy] ‚Äî open source, free
* [http://sourceforge.net/projects/fire/ Fire] ‚Äî open source, free, [http://web.archive.org/web/20091203031852/http://fire.sourceforge.net/ no longer under development]
* [http://limechat.net/mac/ LimeChat] ‚Äî open source, free
* [http://chipersoft.com/old.html Minerva] ‚Äî free, no longer under development
* [http://xchataqua.github.io XChat Aqua/Azure] ‚Äî open source, free
* [http://www.snak.com/ Snak] ‚Äî commercial ($29)
* [https://www.codeux.com/textual/ Textual] ‚Äî open source, commercial ($4.99)

===Cross-platform===
* [http://hexchat.org/ HexChat] ‚Äî Actively developed fork of X-chat.  Windows and Linux binaries available.
* [https://addons.mozilla.org/en-US/firefox/addon/chatzilla/ Chatzilla] ‚Äî Cross-platform IRC extension for Firefox
* [http://pidgin.im/ Pidgin] ‚Äî Popular open-source multi-protocol windows client, using libpurple
* [http://irssi.org/ Irssi] ‚Äî Unix client, often run from a shell, typically [http://f0rked.com/articles/irssi in conjunction with 'screen'].
* [http://jirc.hick.org/jirc/ jIRCii]
* [http://instantbird.com/ Instabird]/[https://www.mozilla.org/en-US/thunderbird/ Thunderbird] ‚Äî An instant messaging client built by Mozilla!
* [https://chrome.google.com/webstore/detail/circ/bebigdkelppomhhjaaianniiifjbgocn CIRC on ChromeOS or in the Chrome browser]
* [https://weechat.org/ WeeChat] - Full-featured terminal-mode IRC, with IPv6, SASL authentication, nicklist, DCC, and many other features. Like irssi, usually used on a server, in conjunction with [https://xkcd.com/1782/ tmux instead of screen]

===Bouncers, Client/Server===
* [http://wiki.znc.in/ZNC ZNC] ‚Äî A fully developed IRC bouncer with many add-ons, including colloquy mobile push via apple push notification service. IRC on your phone!
* [http://www.irssi.org/documentation/proxy irssi-proxy] ‚Äî A light weight bouncer for irssi
* [https://thelounge.github.io/ The Lounge] ‚Äî self-hosted web-based IRC client

* [http://www.quassel-irc.org/ Quassel] ‚Äî client-server based IRC client for Windows/Mac/Linux/Android (custom protocol between server and clients). Standalone version also available (uses local sqlite database)

== Personal domain whois ==
If you connect to IRC in some fashion so that the reverse dns points to [[your domain]], then it will show up when others /whois you.

For example, <kbd>/whois rascul</kbd>

Here are some possible scenarios:
* Run [http://znc.in ZNC] on your server (for example, rascul.io) and connect to it through your [http://tinc-vpn.org tinc VPN].
* SSH to your server and run [http://irssi.org Irssi] inside [http://gnu.org/software/screen GNU Screen]. Take a look at [http://carina.org.uk/screenirssi.shtml Guide to using Screen and Irssi].
* Use [http://weechat.org WeeChat]'s [http://www.weechat.org/files/doc/devel/weechat_relay_protocol.en.html Relay protocol] to use WeeChat on your server as a bouncer.

== Troubleshooting ==

=== Need to identify via SASL ===
If you get an error message like:
<pre>*** Notice -- You need to identify via SASL to use this server</pre>
Then:
* If you're on '''Colloquy on Mac''', there are two possible fixes in increasing difficulty:
** [http://readystate4.com/2011/02/25/solution-to-sasl-error-while-joining-irc-from-a-tethered-mobile-device-notice-you-need-to-identify-via-sasl-to-use-this-server/ setup a SOCKS proxy], or:
** download the [http://www.luisdelarosa.com/2011/04/28/fixing-sasl-for-colloquy-when-you-are-using-a-mifi/ latest Colloquy source and build it yourself] (which supposedly has SASL support, but there's been no official Colloquy release since the the support was added)
*** ... except Colloquy 2.4.1, released 2013-20-23 still has this problem.
* If you're on '''Colloquy on iOS''', you need to configure the SASL support in the Advanced options.
** (stub - need more description here about how to find the Advanced options and what to enter, screenshots would be nice)

Scenarios - the above error has been encountered when:
* Using a Virgin Mobile MiFi to access the internet. (2011-193 [[User:Tantek|Tantek]])
* Using a tethered T-Mobile Internet connection ([[User:Npdoty.name|Npdoty.name]] 15:47, 14 March 2013 (PDT))

== Voice ==

Anyone who has added themselves to the [[chat-names]] list will be automatically given "voice" (+v) in the IndieWeb channels by [[Loqi]] as a way to indicate that you have access and are listed in the wiki.  This "user mode" is often represented by a + in front of the persons name in many IRC clients.  

You will be given voice even if you are not [[#Creating_a_registered_nickname|authenticated with Nickserv]], as it does not pose any sort of security problem and is not considered a reliable way to authenticate you.

Note: "voice" has nothing to do with who can/can't talk.  Everyone abiding by the [[Code-Of-Conduct]] is free to speak their (on topic) mind.  Want voice too?  Feel free to add yourself to [[chat-names]] or ask for help.

== Advanced / Admin notes ==

Freenode uses the [https://atheme.github.io/atheme.html Atheme IRC Services] for ChanServ and NickServ. Channel administrators will mostly interact with the former, users with the latter. These are the systems administrators are going to be communicating with.

The below configurations probably will not work on networks that use a different set of services.

<raw><hr style="margin:1.5em 0;"></raw>

See [https://github.com/atheme/atheme/wiki/ChanServ:FLAGS ChanServ FLAGS] for the full list of possible privileges to give a user on a channel. Below are just some quick reminders for things that happen semi-frequently or are required for new channels.

Giving someone ops
 
 /msg chanserv op #indieweb Loqi

Granting auto op to Loqi

 /msg chanserv flags #indieweb Loqi +O

Turning off auto op for yourself (or anyone), to avoid seeing spam messages before Loqi kick spammers

 /msg chanserv flags #indieweb tantek -O

Setting channel to allow anyone to set topic

 /msg chanserv flags #indieweb +t

Lock the +t option on

 /msg chanserv set #indieweb mlock +t

Check access list for a channel

 /msg chanserv access #indieweb list

Grant all flags you can to a user, except Founder status (<code>+F</code>) and auto-op (see above)

 /msg chanserv flags #indieweb aaronpk +*-O

Prevent ChanServ from syncing user modes. Sometimes ChanServ tries to sync its own ACL with the channel, you can turn this off with:

 /msg chanserv set #indieweb nosync on

Additional info

 /msg chanserv help
 /msg chanserv help flags
 /msg chanserv help set mlock

* http://lug.oregonstate.edu/blog/channel-admin/
* https://botbot.me/how-to-setup-irc-channel/

<raw><hr style="margin:1.5em 0;"></raw>

Currently running a test on #indieweb-chat with the following extra settings to hide the channel from others on the IRC network. Like above, these are set by sending them to ChanServ. This might be able to further lessen the amount of spam we‚Äôre seeing.

* <kbd>SET #indieweb-chat MLOCK +sp</kbd>

This makes the channel '''s'''ecret and '''p'''rivate. The channel should not longer show up in channel lists anywhere. See [https://freenode.net/kb/answer/channelmodes Freenode‚Äôs channel modes] for explanations.

* <kbd>SET #indieweb-chat PRIVATE ON</kbd>

This ‚Äúhides various information about the channel‚Äù. One example is to hide the channel from <kbd>LIST</kbd> commands issued to ChanServ [http://www.geekshed.net/commands/chanserv/#SETPRIVATE].

To see which modes and flags have been set, query ChanServ with:

* <kbd>INFO #indieweb-chat</kbd>

('''Note:''' it looks like this will not display all flags, e.g. <code>NOSYNC</code> is known not to be displayed.)

== bot development ==
* [[TikTokBot]] ‚Äì Ruby, provides HTTP API
* [[sopel]] ‚Äì Python


== Brainstorming ==

== See Also ==
* [[Contribute]]
* [[indiechat]]
* [[Slack]]
* http://www.w3.org/wiki/IRC
* https://meta.wikimedia.org/wiki/User:GWicke/Matrix.org
