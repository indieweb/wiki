https://indieweb.org/User%3AAaronparecki.com/IndieAuth_Ticket_Auth


== Step 1 ==
Bob would like to notify Alice that Bob is following Alice
so that Alice can choose to share more things with Bob.

* (TODO)

(This step isn't strictly necessary but may provide a better user experience for granting these tokens)

== Step 2 ==
Ok now Alice is ready to send an access token to Bob. Alice generates a short-lived ticket which will last approximately a minute at most.

* Feed URL = https://alice.example.com/
* Ticket = 32985723984723985792834
* Deliver to ticket endpoint of: https://bob.example.org/

Discover ticket endpoint of https://bob.example.org/

* https://auth.example.org/ticket

Post ticket to https://auth.example.org/ticket

<pre>curl https://auth.example.org/ticket \ 
   # a random string that can be redeemed for an access token
   -d ticket=32985723984723985792834 \ 
   # the access token will work at this URL
   -d resource=https://alice.example.com/ \ 
   # the access token should be used when acting on behalf of this URL
   -d audience=https://bob.example.org/ </pre>

This is basically saying "if you wanted to fetch this feed as this person and see private stuff, here's a ticket you can use to get an access token".

Bob's ticket endpoint redeems the ticket for an access token

Fetch resource https://alice.example.com/ to discover token endpoint

<pre>curl https://alice.example.com/token
   -d grant_type=ticket
   -d ticket=32985723984723985792834</pre>

Response is an access token

== Step 3 ==

Now Bob's authorization endpoint has the remote access token that could be used to fetch Alice's feed.

How to get it to the reader or the webmention endpoint verifier is up to those implementations, it may be internal, or may use another spec to coordinate.
